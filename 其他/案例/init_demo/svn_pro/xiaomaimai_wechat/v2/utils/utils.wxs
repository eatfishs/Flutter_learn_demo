module.exports = {
  test: function (aaa) {
    return aaa + 'asdfasdf' + getDate()
  },
  getDateDiff: function (longtiem) {
    var publishTime = (longtiem - 621355968000000000) / 10000,
      d_seconds,
      d_minutes,
      d_hours,
      d_days,
      timeNow = getDate(),
      d,
      date = getDate(publishTime),
      Y = date.getFullYear(),
      M = date.getMonth() + 1,
      D = date.getDate(),
      H = date.getHours(),
      m = date.getMinutes(),
      s = date.getSeconds();
    if (M < 10) {
      M = '0' + M
    }
    if (D < 10) {
      D = '0' + D
    }
    if (H < 10) {
      H = '0' + H
    }
    if (m < 10) {
      m = '0' + m
    }
    if (s < 10) {
      s = '0' + s
    }

    d = (timeNow - publishTime) / 1000
    d_days = parseInt(d / 86400)
    d_hours = parseInt(d / 3600)
    d_minutes = parseInt(d / 60)
    d_seconds = parseInt(d)

    if (d_days > 0 && d_days <= 7) {
      return d_days + '天前'
    } else if (d_days <= 0 && d_hours > 0) {
      return d_hours + '小时前'
    } else if (d_hours <= 0 && d_minutes > 0) {
      return d_minutes + '分钟前'
    } else if (d_seconds < 60) {
      if (d_seconds <= 0) {
        return '刚刚'
      } else {
        return d_seconds + '秒前'
      }
    } else if (d_days >= 3 && d_days < 30) {
      return M + '-' + D + ' ' + H + ':' + m
    } else if (d_days >= 30) {
      return Y + '-' + M + '-' + D + ' ' + H + ':' + m
    }
  },
  getDateStr: function (longtiem) {
    var publishTime = (longtiem - 621355968000000000) / 10000,
      date = getDate(publishTime),
      Y = date.getFullYear(),
      M = date.getMonth() + 1,
      D = date.getDate(),
      H = date.getHours(),
      m = date.getMinutes(),
      s = date.getSeconds();
    if (M < 10) {
      M = '0' + M
    }
    if (D < 10) {
      D = '0' + D
    }
    if (H < 10) {
      H = '0' + H
    }
    if (m < 10) {
      m = '0' + m
    }
    if (s < 10) {
      s = '0' + s
    }
    return Y + '-' + M + '-' + D + ' ' + H + ':' + m
  },
  toFixed: function (num, digits = 2) {
    //digits = digits || 2;
    var n = num || 0;
    return n.toFixed(digits);
  },
  getOrderItemsQuantity: function (list) {
    return list.map(function (item) {
      return item.Quantity;
    }).reduce(function (a, b) { return a + b })
  }
};
